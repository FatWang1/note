- # 缓存雪崩
- ## 描述
一般一些热点数据会使用Redis做缓存，定时刷新或者查不到以后去更新。
定时刷新的情况下，若在某个时间片大量请求的`key`失效，请求就会直接到数据库上，数据库压力过大崩溃，然后又会重启但是缓存中还是不会有这些`key`数据库又会崩溃。
- ## 解决方案
1. 批量向`redis`存储数据时，设置每个`key`的生存时间都为基础生存时间加上一个较小的随机值就可以
2. 较为热点的`key`不设置生存时间，有数据更新就更新数据就可以。
3. 限流
- # 缓存击穿
- ## 描述
指某个`key`特别热点，缓存中这个`key`一直处于比较高的并发状态，当这个`key`失效的瞬间，大量的请求就会落在数据库上，数据库压力过大就可能崩溃。
- ## 解决方案
1. 热点`key`不设置生存时间
2. 去数据库查询数据时加互斥锁
- # 缓存穿透
- ## 描述
指用户不断请求缓存及数据库中不存在的数据
- ## 解决方案
1. 第一次请求没查到以后就在缓存中将这个`key`的值设为`null`或者其他描述，生存时间设置的稍短一些，保障后续能够尽早更新